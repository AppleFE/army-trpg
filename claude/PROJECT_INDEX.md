# 🏰 던전 마스터의 시험 - 프로젝트 문서 인덱스

## 📋 프로젝트 개요

**던전 마스터의 시험**은 완전 오프라인 브라우저 기반 RPG 게임으로, 100층 던전 시스템을 특징으로 하는 텍스트 기반 어드벤처 게임입니다.

### 🎯 핵심 기능
- ✨ **100층 동적 던전 생성 시스템**
- 🏰 **완전 오프라인 브라우저 기반 게임**
- 💾 **IndexedDB 영구 저장소 (다중 세이브 슬롯)**
- ⚔️ **턴제 전투 시스템 (층별 몬스터 스케일링)**
- 🎨 **13가지 고유 층별 테마**
- 👹 **10종 몬스터 (점진적 난이도)**
- 💰 **동적 보상 및 보물 시스템**

---

## 📁 프로젝트 구조

```
games/
├── claude/                     # 메인 RPG 게임
│   ├── index.html              # 메인 게임 파일 (2,885 라인)
│   ├── js/
│   │   ├── game-core.js        # 게임 로직 시스템
│   │   └── indexeddb-manager.js # 데이터베이스 관리
│   └── README.md               # 사용자 가이드
├── gemini/                     # 보조 프로젝트 (제외됨)
├── .gitignore                  # Git 제외 설정
└── PROJECT_INDEX.md            # 이 문서
```

---

## 🔧 핵심 컴포넌트 분석

### 1. **게임 코어 시스템** (`js/game-core.js`)

#### **DungeonGenerator 클래스** (라인 387-587)
- **목적**: 동적 던전 생성 및 관리
- **주요 기능**:
  - 13가지 층별 테마 (지하 동굴 → 절대자의 방)
  - 몬스터 스케일링 (층당 15% 증가)
  - 보스층 시스템 (10층마다)
  - 동적 보상 계산

```javascript
// 핵심 메서드
generateFloorScene(floor)     // 층별 씬 생성
scaleMonster(monster, floor)  // 몬스터 능력치 스케일링
getThemeForFloor(floor)      // 층별 테마 결정
```

#### **전투 시스템**
- **턴제 전투**: 플레이어/몬스터 번갈아 행동
- **액션 타입**: 공격, 방어, 스킬, 아이템, 도망
- **승리 조건**: HP 0 도달

#### **아이템 시스템** (라인 740-775)
- **스마트 사용 검증**: HP/MP 가득 참 시 아이템 보존
- **지원 아이템**: 체력 포션, 마나 포션, 무기, 방어구

### 2. **데이터베이스 시스템** (`js/indexeddb-manager.js`)

#### **IndexedDBManager 클래스**
- **목적**: 오프라인 데이터 영구 저장
- **데이터 구조**:
  - `users`: 사용자 정보
  - `gameData`: 게임 세이브 데이터
  - `gameSettings`: 사용자별 설정

#### **주요 메서드**
```javascript
saveGameData(saveData)           // 게임 저장
loadGameData(userId, saveSlot)   // 게임 로드
getUserSaves(userId)             // 사용자 세이브 목록
createBackup()                   // 백업 생성
```

### 3. **사용자 인터페이스** (`index.html`)

#### **반응형 레이아웃**
- **CSS Grid 시스템**: `game-main` + `game-sidebar`
- **적응형 크기**: `min-height: 600px` (내용에 맞춰 확장)
- **다크 테마**: 판타지 RPG 분위기

#### **화면 구성**
- 로그인 시스템
- 세이브 슬롯 선택
- 게임 플레이 화면
- 상점 및 인벤토리

---

## ⚙️ 기술 사양

### **프론트엔드**
- **HTML5**: 구조 및 UI
- **CSS3**: 스타일링 (Grid, Flexbox)
- **JavaScript ES6+**: 게임 로직

### **데이터 저장**
- **IndexedDB**: 브라우저 로컬 저장소
- **용량**: 무제한 (브라우저 제한 내)
- **지원**: 모든 최신 브라우저

### **아키텍처 패턴**
- **모듈화**: 기능별 클래스 분리
- **이벤트 기반**: 사용자 액션 처리
- **상태 관리**: 중앙집중식 게임 상태

---

## 🎮 게임 시스템 상세

### **100층 던전 시스템**

#### **층별 테마 구성**
| 층 범위 | 테마 | 몬스터 예시 |
|---------|------|-------------|
| 1-10 | 지하 동굴 | 고블린, 오크 |
| 11-20 | 어둠의 통로 | 스켈레톤, 좀비 |
| 21-30 | 돌 무덤 | 트롤, 리치 |
| 31-40 | 고대 유적 | 데몬, 미노타우르스 |
| 41-50 | 마법의 미로 | 와이번 |
| 51-60 | 용의 은신처 | 고대 드래곤 |
| 61-70 | 그림자 영역 | 그림자 군주 |
| 71-80 | 혼돈의 영역 | 혼돈 야수 |
| 81-90 | 공허의 틈 | 공허 황제 |
| 91-100 | 절대자의 방 | 최종 보스 |

#### **스케일링 알고리즘**
```javascript
// 몬스터 능력치 스케일링 (15% 증가/층)
const multiplier = Math.pow(1.15, floor - 1);
scaledMonster.hp = Math.floor(baseMonster.hp * multiplier);
scaledMonster.attack = Math.floor(baseMonster.attack * multiplier);
```

### **동적 씬 매칭 시스템**
```javascript
// 정규식 패턴으로 동적 씬 생성
const dungeonPattern = /^dungeon_(\d+)_(entrance|progress|secret)$/;
```

---

## 🐛 최근 버그 수정 (2025-08-03)

### **1. 아이템 사용 로직 개선**
- **문제**: HP/MP 가득 참 시에도 포션 소모
- **해결**: 사용 전 검증 로직 추가
- **파일**: `js/game-core.js` (라인 743-756)

### **2. 레이아웃 반응성 개선**
- **문제**: 고정 높이로 인한 내용 오버플로우
- **해결**: `height: 600px` → `min-height: 600px`
- **파일**: `index.html` (라인 136)

---

## 🚀 개발 히스토리

### **Git 커밋 로그**
```
b427140 - 🎮 Initial commit: Complete 100-floor dungeon RPG system
- ✨ 100층 동적 던전 생성 시스템
- 🏰 완전 오프라인 브라우저 기반 RPG 게임
- 💾 IndexedDB 영구 저장소
- ⚔️ 턴제 전투 시스템
- 🐛 아이템 소모 버그 수정
- 📐 레이아웃 크기 조정 문제 해결
```

---

## 📖 문서 참조

### **사용자 문서**
- [`README.md`](claude/README.md) - 게임 사용 가이드
- 설치 및 실행 방법
- 게임플레이 설명
- 문제 해결 가이드

### **개발자 문서**
- [`js/game-core.js`](claude/js/game-core.js) - 게임 로직 소스
- [`js/indexeddb-manager.js`](claude/js/indexeddb-manager.js) - DB 관리 소스
- [`index.html`](claude/index.html) - UI 및 스타일

### **프로젝트 관리**
- [`.gitignore`](.gitignore) - Git 제외 설정
- `PROJECT_INDEX.md` - 이 문서

---

## 🎯 향후 개발 계획

### **완료된 기능** ✅
- [x] 100층 던전 시스템
- [x] 동적 씬 생성
- [x] 몬스터 스케일링
- [x] 아이템 사용 검증
- [x] 반응형 레이아웃

### **잠재적 확장** 🔮
- [ ] 사운드 효과 시스템
- [ ] 더 많은 아이템 종류
- [ ] 캐릭터 클래스 시스템
- [ ] 퀘스트 시스템
- [ ] 업적 시스템

---

## 🏆 프로젝트 성과

- **코드 라인 수**: 2,885+ 라인
- **기능 완성도**: 100층 던전 시스템 완전 구현
- **테스트 상태**: 주요 기능 검증 완료
- **버그 수정**: 마나 포션 및 레이아웃 이슈 해결
- **문서화**: 포괄적인 사용자/개발자 가이드

---

*📅 최종 업데이트: 2025-08-03*  
*🤖 Generated with [Claude Code](https://claude.ai/code)*